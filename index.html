<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Student Report Generator</title>
  
  <style>
    /*  Page background and base layout */
    body {
      font-family: Arial, sans-serif;
      background: url('Wallpaper.jpg') no-repeat center center fixed; 
      background-size: cover;
      position: relative;
      padding: 20px;
    }

    /* Soft white overlay to improve text readability on background */
    body::before {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(255, 255, 255, 0.5);
      z-index: -1;
    }

    /*  Main form container styling */
    .container {
      background: rgba(255, 255, 255, 0.9);
      padding: 20px;
      max-width: 600px;
      margin: auto;
      border-radius: 8px;
      box-shadow: 0 0 15px rgba(0,0,0,0.3);
      position: relative;
      z-index: 1;
    }

    h2 {
      text-align: center;
      color: black;
    }

    /* Input field styling */
    input {
      width: 96.5%;
      padding: 10px;
      margin: 10px 0;
      border-radius: 4px;
      border: 1px solid gray;
      font-size: 16px;
    }

    /*  Button styling */
    button {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      border-radius: 4px;
      font-size: 16px;
      background-color: green;
      color: white;
      border: none;
      cursor: pointer;
    }

    button:hover {
      background-color: darkgreen;
    }

    /*  Individual record display box */
    .record {
      background: honeydew;
      margin: 10px 0;
      padding: 10px;
      border-left: 5px solid green;
    }
  </style>
</head>

<body>
  <div class="container">
    <h2>Student Report Generator</h2>

    <!-- Input fields for student information -->
    <input type="text" id="name" placeholder="Enter the student's full name" />
    <input type="text" id="roll" placeholder="Enter the roll number" />
    <input type="number" id="mark1" placeholder="Marks in Subject 1 (out of 100)" />
    <input type="number" id="mark2" placeholder="Marks in Subject 2 (out of 100)" />
    <input type="number" id="mark3" placeholder="Marks in Subject 3 (out of 100)" />

    <!--  Action buttons -->
    <button onclick="addStudent()">Add Student</button>
    <button onclick="showAllStudents()">Display All Records</button>
    <button onclick="clearData()" style="background-color:red;">Clear Records</button>

    <!-- Display area for student reports -->
    <div id="output"></div>
  </div>

  <script>
    /* ===============================
        Data storage (in-memory arrays)
       =============================== */
    let names = [];
    let rolls = [];
    let marksList = [];

    /*  Function to determine grade based on average marks */
    function calculateGrade(avg) {
      if (avg >= 90) return "A+ (Outstanding)";
      if (avg >= 80) return "A (Excellent)";
      if (avg >= 70) return "B (Good)";
      if (avg >= 60) return "C (Satisfactory)";
      if (avg >= 50) return "D (Needs Improvement)";
      return "F (Fail)";
    }

    /*  Add a new student record */
    function addStudent() {
      let name = document.getElementById("name").value.trim();
      let roll = document.getElementById("roll").value.trim();
      let m1 = parseFloat(document.getElementById("mark1").value);
      let m2 = parseFloat(document.getElementById("mark2").value);
      let m3 = parseFloat(document.getElementById("mark3").value);

      //  Input validation
      if (!name || !roll || isNaN(m1) || isNaN(m2) || isNaN(m3)) {
        alert("Please fill in all fields correctly before submitting.");
        return;
      }

      //  Prevent invalid mark entries
      if (m1 < 0 || m1 > 100 || m2 < 0 || m2 > 100 || m3 < 0 || m3 > 100) {
        alert("Marks must be between 0 and 100 for each subject.");
        return;
      }

      //  Store student data
      let marks = [m1, m2, m3];
      names.push(name);
      rolls.push(roll);
      marksList.push(marks);

      alert("Record added successfully for " + name + ".");
      clearInputs();
    }

    /*  Clears input fields after submission */
    function clearInputs() {
      document.getElementById("name").value = "";
      document.getElementById("roll").value = "";
      document.getElementById("mark1").value = "";
      document.getElementById("mark2").value = "";
      document.getElementById("mark3").value = "";
    }

    /*  Display all student records neatly */
    function showAllStudents() {
      let output = document.getElementById("output");
      output.innerHTML = "";

      //  Handle case when no records exist
      if (names.length === 0) {
        output.innerHTML = "<p>No student records are available right now.</p>";
        return;
      }

      //  Loop through all stored students
      for (let i = 0; i < names.length; i++) {
        let name = names[i];
        let roll = rolls[i];
        let marks = marksList[i];
        let total = marks[0] + marks[1] + marks[2];
        let average = (total / 3).toFixed(2);
        let grade = calculateGrade(average);

        // Create a formatted display for each record
        let studentDiv = document.createElement("div");
        studentDiv.className = "record";
        studentDiv.innerHTML = `
          <strong>Record #${i + 1}</strong><br>
          Student Name: ${name}<br>
          Roll Number : ${roll}<br>
          Marks Obtained: ${marks.join(", ")} (each out of 100)<br>
          Total Marks  : ${total}<br>
          Average Score: ${average}<br>
          Final Grade  : ${grade}
        `;
        output.appendChild(studentDiv);
      }
    }

    /*  Clear all stored student records with confirmation */
    function clearData() {
      if (confirm("Do you really want to delete all student records?")) {
        names = [];
        rolls = [];
        marksList = [];
        document.getElementById("output").innerHTML = 
          "<p>All student records have been successfully deleted.</p>";
        clearInputs();
      }
    }
  </script>
</body>
</html>